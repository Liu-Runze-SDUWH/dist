(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d520c0ce"],{"11e9":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{attrs:{id:"statistics",fluid:"",tag:"section"}},[t.flag13?[e("v-row",[e("v-tabs",{model:{value:t.model,callback:function(a){t.model=a},expression:"model"}},t._l(t.times,(function(a,i){return e("v-tab",{key:i,attrs:{href:"#tab-"+i},on:{click:function(a){return t.change(i)}}},[t._v(t._s(a))])})),1)],1),e("v-row",{key:t.key,attrs:{justify:"center"}},[e("v-col",{attrs:{cols:"12",sm:"6",lg:"4"}},[e("base-material-stats-card",{attrs:{color:"info",icon:"mdi-alarm",title:"累计训练时长",value:t.train_time,"sub-icon":"mdi-clock","sub-text":"Just Updated"}})],1),e("v-col",{attrs:{cols:"12",sm:"6",lg:"4"}},[e("base-material-stats-card",{attrs:{color:"primary",icon:"mdi-arch",title:"排名",value:t.rank,"sub-icon":"mdi-tag","sub-text":"Just Updated"}})],1),e("v-col",{attrs:{cols:"12",sm:"6",lg:"4"}},[e("base-material-stats-card",{attrs:{color:"success",icon:"mdi-altimeter",title:"题量",value:t.practice_num,"sub-icon":"mdi-calendar","sub-text":"Just Updated"}})],1),e("v-col",{attrs:{cols:"12",sm:"6",lg:"4"}},[e("base-material-stats-card",{attrs:{color:"info",icon:"mdi-all-inclusive",title:"正确率",value:t.accuracy.toString()+"%","sub-icon":"mdi-clock","sub-text":"Just Updated"}})],1),e("v-col",{attrs:{cols:"12",sm:"6",lg:"4"}},[e("base-material-stats-card",{attrs:{color:"primary",icon:"mdi-arrow-decision-outline",title:"练习次数",value:t.train_num,"sub-icon":"mdi-tag","sub-text":"Just Updated"}})],1),e("v-col",{attrs:{cols:"12",sm:"6",lg:"4"}},[e("base-material-stats-card",{attrs:{color:"success",icon:"mdi-auto-upload",title:"翻转率",value:t.checked,"sub-icon":"mdi-calendar","sub-text":"Just Updated"}})],1),e("v-col",{attrs:{cols:"12",lg:"5"}},[e("base-material-chart-card",{attrs:{data:t.emailsSubscriptionChart.data,options:t.emailsSubscriptionChart.options,"responsive-options":t.emailsSubscriptionChart.responsiveOptions,color:"#E91E63","hover-reveal":"",type:"Bar","min-height":"487"},scopedSlots:t._u([{key:"reveal-actions",fn:function(){return[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var i=a.attrs,s=a.on;return[e("v-btn",t._g(t._b({attrs:{color:"info",icon:""}},"v-btn",i,!1),s),[e("v-icon",{attrs:{color:"info"}},[t._v(" mdi-refresh ")])],1)]}}])},[e("span",[t._v("Refresh")])]),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var i=a.attrs,s=a.on;return[e("v-btn",t._g(t._b({attrs:{light:"",icon:""}},"v-btn",i,!1),s),[e("v-icon",[t._v("mdi-pencil")])],1)]}}])},[e("span",[t._v("Change Date")])])]},proxy:!0},{key:"actions",fn:function(){return[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v(" mdi-clock-outline ")]),e("span",{staticClass:"caption grey--text font-weight-light"},[t._v("updated just now")])]},proxy:!0}])},[e("h4",{staticClass:"card-title font-weight-light mt-2 ml-2"},[t._v(" 本周题量 ")]),e("p",{staticClass:"d-inline-flex font-weight-light ml-2 mt-1"},[t._v(" 今天你做题了吗 ")])])],1),e("v-col",{attrs:{cols:"12",md:"7"}},[e("base-material-card",{staticClass:"px-5 py-3",attrs:{color:"warning"},scopedSlots:t._u([{key:"heading",fn:function(){return[e("div",{staticClass:"display-2 font-weight-light"},[t._v(" 天梯榜 ")]),e("div",{staticClass:"subtitle-1 font-weight-light"},[t._v(" 默认以月学习时长排名 ")])]},proxy:!0}])},[e("v-card-text",[e("v-data-table",{attrs:{headers:t.headers,items:t.items}})],1)],1)],1)],1)]:[e("v-skeleton-loader",t._b({attrs:{type:"article, actions",height:"500px"}},"v-skeleton-loader",t.attrs,!1))]],2)},s=[],n=(e("b0c0"),e("b680"),e("d3b7"),e("25f0"),{name:"Statistics",data:function(){return{model:"tab-2",train_time:0,rank:0,train_num:0,accuracy:0,practice_num:0,completion_rate:0,emailsSubscriptionChart:{data:{labels:["Mon","Tue","Thu","Wen","Fri","Sat","Sun"],series:[[42,43,32,80,53,43,36]]},options:{axisX:{showGrid:!1},low:0,high:100,chartPadding:{top:0,right:5,bottom:0,left:0}},responsiveOptions:[["screen and (max-width: 640px)",{seriesBarDistance:5,axisX:{labelInterpolationFnc:function(t){return t[0]}}}]]},headers:[{sortable:!1,text:"学号",value:"student_number"},{sortable:!1,text:"姓名",value:"name"},{sortable:!0,text:"学习时长",value:"train_time",align:"right"},{sortable:!0,text:"题量",value:"practice_num",align:"right"},{sortable:!0,text:"正确率",value:"accuracy",align:"middle"}],accuracy_lastday:0,accuracy_lastweek:0,accuracy_lastmonth:0,accuracy_lastyear:0,train_time_lastday:0,train_time_lastweek:0,train_time_lastmonth:0,train_time_lastyear:0,trains_lastday:0,trains_lastweek:0,trains_lastmonth:0,trains_lastyear:0,train_questions_lastday:0,train_questions_lastweek:0,train_questions_lastmonth:0,train_questions_lastyear:0,checked_lastday:0,checked_lastweek:0,checked_lastmonth:0,checked_lastyear:0,week_done:0,checked:0,rank_list:[],flag13:!1,items:[{student_number:1,name:"李华",train_time:30,practice_num:1,accuracy:22},{student_number:2,name:"张华",train_time:30,practice_num:30,accuracy:75},{student_number:3,name:"小刘",train_time:22,practice_num:15,accuracy:75},{student_number:4,name:"小润",train_time:30,practice_num:40,accuracy:65},{student_number:5,name:"小泽",train_time:23,practice_num:30,accuracy:50}],key:0,times:["本日","最近一周","最近一个月","最近一年"],statistic_time:"month",s_items:["day","week","month","year"],flag100:1}},created:function(){var t=this;t.get_Info(),setTimeout((function(){for(var a=0;a<t.rank_list.length;a++)"month"==t.statistic_time?(t.items[a].student_number=t.rank_list[a].student_number,t.items[a].name=t.rank_list[a].name,t.items[a].train_time=t.rank_list[a].train_time_lastmonth,t.items[a].practice_num=t.rank_list[a].train_questions_lastmonth,t.items[a].accuracy=t.rank_list[a].accuracy_lastmonth.toFixed(1).toString()+"%"):"week"==t.statistic_time?(t.items[a].student_number=t.rank_list[a].student_number,t.items[a].name=t.rank_list[a].name,t.items[a].train_time=t.rank_list[a].train_time_lastweek,t.items[a].practice_num=t.rank_list[a].train_questions_lastweek,t.items[a].accuracy=t.rank_list[a].accuracy_lastweek.toFixed(1).toString()+"%"):"day"==t.statistic_time?(t.items[a].student_number=t.rank_list[a].student_number,t.items[a].name=t.rank_list[a].name,t.items[a].train_time=t.rank_list[a].train_time_lastday,t.items[a].practice_num=t.rank_list[a].train_questions_lastday,t.items[a].accuracy=t.rank_list[a].accuracy_lastday.toFixed(1).toString()+"%"):"year"==t.statistic_time&&(t.items[a].student_number=t.rank_list[a].student_number,t.items[a].name=t.rank_list[a].name,t.items[a].train_time=t.rank_list[a].train_time_lastyear,t.items[a].practice_num=t.rank_list[a].train_questions_lastyear,t.items[a].accuracy=t.rank_list[a].accuracy_lastyear.toFixed(1).toString()+"%");1==t.flag100?setTimeout((function(){t.flag13=!0,t.$global.flag16=!0,t.$forceUpdate()}),6e3):(alert("未加入班级！"),t.flag13=!0,t.$global.flag16=!0,t.$forceUpdate())}),200)},computed:{},methods:{get_Info:function(){var t=this;this.$axios({method:"get",url:"/api/get_static_info/",params:{id:t.$global.userMsg.id}}).then((function(a){0==a.data.error_num?(console.log(a.data),t.accuracy_lastday=a.data.accuracy_lastday,t.accuracy_lastweek=a.data.accuracy_lastweek,t.accuracy_lastmonth=a.data.accuracy_lastmonth,t.accuracy_lastyear=a.data.accuracy_lastyear,t.train_time_lastday=a.data.train_time_lastday,t.train_time_lastweek=a.data.train_time_lastweek,t.train_time_lastmonth=a.data.train_time_lastmonth,t.train_time_lastyear=a.data.train_time_lastyear,t.trains_lastday=a.data.trains_lastday,t.trains_lastweek=a.data.trains_lastweek,t.trains_lastmonth=a.data.trains_lastmonth,t.trains_lastyear=a.data.trains_lastyear,t.train_questions_lastday=a.data.train_questions_lastday,t.train_questions_lastweek=a.data.train_questions_lastweek,t.train_questions_lastmonth=a.data.train_questions_lastmonth,t.train_questions_lastyear=a.data.train_questions_lastyear,t.rank=a.data.rank,t.emailsSubscriptionChart.data.series[0]=a.data.week_done,t.rank_list=a.data.rank_list.reverse(),"month"==t.statistic_time?(t.train_num=a.data.trains_lastmonth,t.checked=a.data.checked_lastmonth.toFixed(1),t.accuracy=a.data.accuracy_lastmonth.toFixed(1),t.train_time=a.data.train_time_lastmonth,t.practice_num=a.data.train_questions_lastmonth):"week"==t.statistic_time?(t.train_num=a.data.trains_lastweek,t.checked=a.data.checked_lastweek.toFixed(1),t.accuracy=a.data.accuracy_lastweek.toFixed(1),t.train_time=a.data.train_time_lastweek,t.practice_num=a.data.train_questions_lastweek):"day"==t.statistic_time?(t.train_num=a.data.trains_lastday,t.checked=a.data.checked_lastday.toFixed(1),t.accuracy=a.data.accuracy_lastday.toFixed(1),t.train_time=a.data.train_time_lastday,t.practice_num=a.data.train_questions_lastday):"year"==t.statistic_time&&(t.train_num=a.data.trains_lastyear,t.checked=a.data.checked_lastyear.toFixed(1),t.accuracy=a.data.accuracy_lastyear.toFixed(1),t.train_time=a.data.train_time_lastyear,t.practice_num=a.data.train_questions_lastyear)):t.flag100=0}))},change:function(t){var a=this;this.statistic_time=this.s_items[t],console.log("statistic_time = ",this.statistic_time),"month"==a.statistic_time?(a.train_num=a.trains_lastmonth,a.checked=a.checked_lastmonth,a.accuracy=a.accuracy_lastmonth,a.train_time=a.train_time_lastmonth,a.practice_num=a.train_questions_lastmonth):"week"==a.statistic_time?(a.train_num=a.trains_lastweek,a.checked=a.checked_lastweek,a.accuracy=a.accuracy_lastweek,a.train_time=a.train_time_lastweek,a.practice_num=a.train_questions_lastweek):"day"==a.statistic_time?(a.train_num=a.trains_lastday,a.checked=a.checked_lastday,a.accuracy=a.accuracy_lastday,a.train_time=a.train_time_lastday,a.practice_num=a.train_questions_lastday):"year"==a.statistic_time&&(a.train_num=a.trains_lastyear,a.checked=a.checked_lastyear,a.accuracy=a.accuracy_lastyear,a.train_time=a.train_time_lastyear,a.practice_num=a.train_questions_lastyear),setTimeout((function(){for(var t=0;t<a.rank_list.length;t++)"month"==a.statistic_time?(a.items[t].student_number=a.rank_list[t].student_number,a.items[t].name=a.rank_list[t].name,a.items[t].train_time=a.rank_list[t].train_time_lastmonth,a.items[t].practice_num=a.rank_list[t].train_questions_lastmonth,a.items[t].accuracy=a.rank_list[t].accuracy_lastmonth.toFixed(1).toString()+"%"):"week"==a.statistic_time?(a.items[t].student_number=a.rank_list[t].student_number,a.items[t].name=a.rank_list[t].name,a.items[t].train_time=a.rank_list[t].train_time_lastweek,a.items[t].practice_num=a.rank_list[t].train_questions_lastweek,a.items[t].accuracy=a.rank_list[t].accuracy_lastweek.toFixed(1).toString()+"%"):"day"==a.statistic_time?(a.items[t].student_number=a.rank_list[t].student_number,a.items[t].name=a.rank_list[t].name,a.items[t].train_time=a.rank_list[t].train_time_lastday,a.items[t].practice_num=a.rank_list[t].train_questions_lastday,a.items[t].accuracy=a.rank_list[t].accuracy_lastday.toFixed(1).toString()+"%"):"year"==a.statistic_time&&(a.items[t].student_number=a.rank_list[t].student_number,a.items[t].name=a.rank_list[t].name,a.items[t].train_time=a.rank_list[t].train_time_lastyear,a.items[t].practice_num=a.rank_list[t].train_questions_lastyear,a.items[t].accuracy=a.rank_list[t].accuracy_lastyear.toFixed(1).toString()+"%");setTimeout((function(){a.$forceUpdate()}),6e3)}),200)}},watch:{}}),r=n,c=e("2877"),l=e("6544"),o=e.n(l),_=e("8336"),d=e("99d9"),u=e("62ad"),m=e("a523"),h=e("8fea"),y=e("132d"),p=e("0fd9b"),k=e("3129"),b=e("71a3"),f=e("fe57"),g=e("3a2f"),v=Object(c["a"])(r,i,s,!1,null,null,null);a["default"]=v.exports;o()(v,{VBtn:_["a"],VCardText:d["c"],VCol:u["a"],VContainer:m["a"],VDataTable:h["a"],VIcon:y["a"],VRow:p["a"],VSkeletonLoader:k["a"],VTab:b["a"],VTabs:f["a"],VTooltip:g["a"]})},"1f09":function(t,a,e){},3129:function(t,a,e){"use strict";e("a630"),e("c975"),e("d81d"),e("ac1f"),e("3ca3"),e("5319"),e("1276");var i=e("3835"),s=e("5530"),n=(e("1f09"),e("c995")),r=e("24b2"),c=e("7560"),l=e("58df"),o=e("80d2");a["a"]=Object(l["a"])(n["a"],r["a"],c["a"]).extend({name:"VSkeletonLoader",props:{boilerplate:Boolean,loading:Boolean,tile:Boolean,transition:String,type:String,types:{type:Object,default:function(){return{}}}},computed:{attrs:function(){return this.isLoading?this.boilerplate?{}:Object(s["a"])({"aria-busy":!0,"aria-live":"polite",role:"alert"},this.$attrs):this.$attrs},classes:function(){return Object(s["a"])(Object(s["a"])({"v-skeleton-loader--boilerplate":this.boilerplate,"v-skeleton-loader--is-loading":this.isLoading,"v-skeleton-loader--tile":this.tile},this.themeClasses),this.elevationClasses)},isLoading:function(){return!("default"in this.$scopedSlots)||this.loading},rootTypes:function(){return Object(s["a"])({actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, card-heading","card-avatar":"image, list-item-avatar","card-heading":"heading",chip:"chip","date-picker":"list-item, card-heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",paragraph:"text@3",sentences:"text@2",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"heading, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"table-cell@6","table-cell":"text","table-tfoot":"text@2, avatar@2",text:"text"},this.types)}},methods:{genBone:function(t,a){return this.$createElement("div",{staticClass:"v-skeleton-loader__".concat(t," v-skeleton-loader__bone")},a)},genBones:function(t){var a=this,e=t.split("@"),s=Object(i["a"])(e,2),n=s[0],r=s[1],c=function(){return a.genStructure(n)};return Array.from({length:r}).map(c)},genStructure:function(t){var a=[];t=t||this.type||"";var e=this.rootTypes[t]||"";if(t===e);else{if(t.indexOf(",")>-1)return this.mapBones(t);if(t.indexOf("@")>-1)return this.genBones(t);e.indexOf(",")>-1?a=this.mapBones(e):e.indexOf("@")>-1?a=this.genBones(e):e&&a.push(this.genStructure(e))}return[this.genBone(t,a)]},genSkeleton:function(){var t=[];return this.isLoading?t.push(this.genStructure()):t.push(Object(o["s"])(this)),this.transition?this.$createElement("transition",{props:{name:this.transition},on:{afterEnter:this.resetStyles,beforeEnter:this.onBeforeEnter,beforeLeave:this.onBeforeLeave,leaveCancelled:this.resetStyles}},t):t},mapBones:function(t){return t.replace(/\s/g,"").split(",").map(this.genStructure)},onBeforeEnter:function(t){this.resetStyles(t),this.isLoading&&(t._initialStyle={display:t.style.display,transition:t.style.transition},t.style.setProperty("transition","none","important"))},onBeforeLeave:function(t){t.style.setProperty("display","none","important")},resetStyles:function(t){t._initialStyle&&(t.style.display=t._initialStyle.display||"",t.style.transition=t._initialStyle.transition,delete t._initialStyle)}},render:function(t){return t("div",{staticClass:"v-skeleton-loader",attrs:this.attrs,on:this.$listeners,class:this.classes,style:this.isLoading?this.measurableStyles:void 0},[this.genSkeleton()])}})},"71a3":function(t,a,e){"use strict";e("c975"),e("ac1f"),e("5319");var i=e("5530"),s=e("4e82"),n=e("1c87"),r=e("7560"),c=e("80d2"),l=e("58df"),o=Object(l["a"])(n["a"],Object(s["a"])("tabsBar"),r["a"]);a["a"]=o.extend().extend().extend({name:"v-tab",props:{ripple:{type:[Boolean,Object],default:!0}},data:function(){return{proxyClass:"v-tab--active"}},computed:{classes:function(){return Object(i["a"])(Object(i["a"])({"v-tab":!0},n["a"].options.computed.classes.call(this)),{},{"v-tab--disabled":this.disabled},this.groupClasses)},value:function(){var t=this.to||this.href||"";if(this.$router&&this.to===Object(this.to)){var a=this.$router.resolve(this.to,this.$route,this.append);t=a.href}return t.replace("#","")}},mounted:function(){this.onRouteChange()},methods:{click:function(t){this.href&&this.href.indexOf("#")>-1&&t.preventDefault(),t.detail&&this.$el.blur(),this.$emit("click",t),this.to||this.toggle()}},render:function(t){var a=this,e=this.generateRouteLink(),s=e.tag,n=e.data;return n.attrs=Object(i["a"])(Object(i["a"])({},n.attrs),{},{"aria-selected":String(this.isActive),role:"tab",tabindex:0}),n.on=Object(i["a"])(Object(i["a"])({},n.on),{},{keydown:function(t){t.keyCode===c["y"].enter&&a.click(t),a.$emit("keydown",t)}}),t(s,n,this.$slots.default)}})}}]);
//# sourceMappingURL=chunk-d520c0ce.a635b449.js.map